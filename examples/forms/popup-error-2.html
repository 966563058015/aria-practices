<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Credit Card Form with Popup Error Example | WAI-ARIA Authoring Practices 1.1</title>

<!--  Core js and css shared by all examples; do not modify when using this template. -->
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
<link rel="stylesheet" href="../css/core.css">
<script src="../js/examples.js" type="text/javascript"></script>
<script src="../js/highlight.pack.js"></script>
<script src="../js/app.js"></script>

<link href="css/popup-error.css" rel="stylesheet">
<script src="js/popup-error-2.js" type="text/javascript"></script>
</head>
<body>
  <nav aria-label="Related Links" class="feedback">
    <ul>
      <li><a href="../../#browser_and_AT_support">Browser and Assistive Technology Support</a></li>
      <li><a href="https://github.com/w3c/aria-practices/issues/new">Report Issue</a></li>
      <li><a href="https://github.com/w3c/aria-practices/projects/14">Related Issues</a></li>
      <li><a href="../../#popup-error">Design Pattern</a></li>
    </ul>
  </nav>
  <main>
    <h1>Credit Card Form with Popup Errors</h1>
    <p>
      The following pizza ordering form example using standard HTML5 form controls demonstrates how to make required form fields, identifying forms with invalid values, instructional information and popup error messages accessible to screen reader users using the <a href="../../#forms">Form Input Assistance design pattern.</a>
    </p>
    <p>Similar examples include:</p>
    <ul>
      <li><a href="popup-error-1.html">Pizza ordering form</a>: A set of standard HTML5 input forms demonstrating required and invalid input, fields with instructions and popup error feedback.</li>
    </ul>
  <section>
    <h2 id="ex_label">Example</h2>

    <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
    <div id="example">
    <h2>
      Payment Information
    </h2>
        <h3>Card Information</h3>
        <div class="select">
          <label for="id-card">
            Card Type
          </label>
          <select id="id-card"
                required
                aria-invalid="false"
                aria-errormessage="id-card-error"
                onChange="setCardType()"
                onblur="validateCardType()"
                >
          </select>
          <span id="id-card-error" class="noerror" role="status">
          </span>
        </div>


        <div class="text">
          <label for="id-name">
            Name on Card
          </label>
          <input id="id-name"
               required
               aria-invalid="false"
               type="text"
               size="20"
               aria-errormessage="id-name-error"
               aria-describedby="id-name-inst"
               onblur="validateName()">
          <span id="id-name-error" class="noerror" role="status">
          </span>
          <div class="instruction" id="id-name-inst">Example: John C Doe</div>
        </div>

        <div class="text">
          <label for="id-number">
            Card Number
          </label>
          <input id="id-number"
               required
               aria-invalid="false"
               type="text"
               size="20"
               aria-errormessage="id-number-error"
               aria-describedby="id-card-number-inst"
               onblur="validateNumber()">
          <span id="id-number-error" class="noerror" role="status">
          </span>
          <div class="instruction" id="id-card-number-inst" aria-label="">--</div>
        </div>

        <div class="text">
          <label for="id-secure">
            Secure Code
          </label>
          <input id="id-secure"
               required
               aria-invalid="false"
               type="text"
               size="5"
               aria-errormessage="id-secure-error"
               aria-describedby="id-secure-code-inst"
               onblur="validateSecureCode()">
          <span id="id-secure-error" class="noerror" role="status">
          </span>
          <div class="instruction" id="id-secure-code-inst" aria-label="">--</div>
        </div>
        <div class="text">
          <label for="id-date">
            Expiration date
          </label>
          <input id="id-date"
               required
               aria-invalid="false"
               type="text"
               size="9"
               aria-errormessage="id-date-error"
               aria-describedby="id-date-inst"
               onblur="validateDate()">
          <span id="id-date-error" class="noerror" role="status">
          </span>
          <div class="instruction" id="id-date-inst" aria-label="2 digit month, slash character, 4 digit year">MM/YYYY</div>
        </div>

        <h3>Billing Information</h3>
        <div class="text">
          <label for="id-address">
            Billing Address
          </label>
          <input id="id-address"
               required
               aria-invalid="false"
               type="text"
               size="30"
               onblur="validateAddress()"
               aria-describedby="id-address-inst"
               aria-errormessage="id-address-error">
          <span id="id-address-error" class="noerror" role="status">
          </span>
          <div class="instruction" id="id-address-inst" >Example: 123 Main Street</div>
        </div>
        <div class="text">
          <label for="id-zipcode">
            Zip Code
          </label>
          <input id="id-zipcode"
               required
               aria-invalid="false"
               type="text"
               size="14"
               onblur="validateZipCode()"
               aria-describedby="id-zipcode-inst"
               aria-errormessage="id-zipcode-error">
          <span id="id-zipcode-error" class="noerror" role="status">
          </span>
          <div class="instruction" id="id-zip-inst" aria-label="enter a 5 digit zipcode">Example: 12345</div>
        </div>

    <input type="submit"
     value="Submit Payment"
     onClick="submitOrder()">

      <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
  </section>

  <section>
    <h2 id="kbd_label">Keyboard Support</h2>
    <table aria-labelledby="kbd_label" class="def">
      <thead>
        <tr>
          <th>Key</th>
          <th>Function</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th><kbd>Tab</kbd></th>
          <td>Next input form control</td>
        </tr>
        <tr>
          <th><kbd>Shift</kbd> + <kbd>Tab</kbd></th>
          <td>Previous input form control</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2 id="rps_label">Role, Property, State, and Tabindex  Attributes</h2>
    <table aria-labelledby="rps_label" class="data attributes">
      <thead>
        <tr>
          <th scope="col">Role</th>
          <th scope="col">Attribute</th>
          <th scope="col">Elements</th>
          <th scope="col">Usage</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td></td>
          <th scope="row">
            <code>required</code>
          </th>
          <td>
            <ul>
              <li><code>select[id=<q>id-card</q>]</code></li>
              <li><code>input[id=<q>id-name</q>]</code></li>
              <li><code>input[id=<q>id-number</q>]</code></li>
              <li><code>input[id=<q>id-secure</q>]</code></li>
              <li><code>input[id=<q>id-date</q>]</code></li>
              <li><code>input[id=<q>id-address</q>]</code></li>
              <li><code>input[id=<q>id-zipcode</q>]</code></li>
            </ul>
          </td>
          <td>
              Identifies the input control is required for form submission.
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>aria-invalid=<q>false</q></code>
          </th>
          <td>
            <ul>
              <li><code>select[id=<q>id-card</q>]</code></li>
              <li><code>input[id=<q>id-name</q>]</code></li>
              <li><code>input[id=<q>id-number</q>]</code></li>
              <li><code>input[id=<q>id-secure</q>]</code></li>
              <li><code>input[id=<q>id-date</q>]</code></li>
              <li><code>input[id=<q>id-address</q>]</code></li>
              <li><code>input[id=<q>id-zipcode</q>]</code></li>
            </ul>
          </td>
          <td>
            Identifies the current value of the form control as valid or the form control has not received keyboard focus (e.g. no user interaction with control).
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>aria-invalid=<q>true</q></code>
          </th>
          <td>
            <ul>
              <li><code>select[id=<q>id-card</q>]</code></li>
              <li><code>input[id=<q>id-name</q>]</code></li>
              <li><code>input[id=<q>id-number</q>]</code></li>
              <li><code>input[id=<q>id-secure</q>]</code></li>
              <li><code>input[id=<q>id-date</q>]</code></li>
              <li><code>input[id=<q>id-address</q>]</code></li>
              <li><code>input[id=<q>id-zipcode</q>]</code></li>
            </ul>
          </td>
          <td>
            Identifies the current value of the form control is invalid.
          </td>
        </tr>
        <tr>
          <td></td>
          <th scope="row">
            <code>ariadescribedby=<q><em>IDREF</em></q></code>
          </th>
          <td>
            <ul>
              <li><code>select[id=<q>id-card</q>]</code></li>
              <li><code>input[id=<q>id-name</q>]</code></li>
              <li><code>input[id=<q>id-number</q>]</code></li>
              <li><code>input[id=<q>id-secure</q>]</code></li>
              <li><code>input[id=<q>id-date</q>]</code></li>
              <li><code>input[id=<q>id-address</q>]</code></li>
              <li><code>input[id=<q>id-zipcode</q>]</code></li>
            </ul>
          </td>
          <td>
            Identifies the <code>id</code> of the visible element on the page with the error message associated with each form control.
          </td>
        </tr>
        <tr>
          <th scope="row"><code>status</code></th>
          <td></td>
          <td>
            <ul>
              <li><code>select[id=<q>id-card</q>]</code></li>
              <li><code>input[id=<q>id-name</q>]</code></li>
              <li><code>input[id=<q>id-number</q>]</code></li>
              <li><code>input[id=<q>id-secure</q>]</code></li>
              <li><code>input[id=<q>id-date</q>]</code></li>
              <li><code>input[id=<q>id-address</q>]</code></li>
              <li><code>input[id=<q>id-zipcode</q>]</code></li>
            </ul>
          </td>
          <td>
            <ul>
              <li>The use of <code>role=<q>status</q></code> live region will signal screen readers to automatically announce error messages.</li>
              <li>The <code>role=<q>status</q></code> by default sets <code>aria-live</code> property to <code>polite</code>, so the change will not disrupt what is being spoke, but just add to the content of what is being spoken.</li>
          </td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Javascript and CSS Source Code</h2>
    <ul>
      <li>
        CSS:
        <a href="css/popup-error-2.css" type="tex/css">popup-error-2.css</a>
      </li>
      <li>
        Javascript:
        <a href="js/popup-error-2.js" type="text/javascript">popup-error-2.js</a>
      </li>
    </ul>
  </section>

 <section>
    <h2 id="sc1_label">HTML Source Code</h2>
    <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
    <pre><code id="source1"></code></pre>
    <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>
    <script>
      sourceCode.add('source1', 'example');
      sourceCode.make();
    </script>
  </section>
  </main>
  <nav>
    <a href="../../#forms">Form Input Assistance Design Pattern in WAI-ARIA Authoring Practices 1.1</a>
  </nav>
</body>
</html>
