<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Switch Example Using HTML Checkbox Input | WAI-ARIA Authoring Practices 1.2</title>

  <!--  Core js and css shared by all examples; do not modify when using this template. -->
  <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
  <link rel="stylesheet" href="../css/core.css">
  <script src="../js/examples.js"></script>
  <script src="../js/highlight.pack.js"></script>
  <script src="../js/app.js"></script>

  <!--  js and css for this example. -->
  <link href="css/switch-checkbox.css" rel="stylesheet">
  <script src="js/switch-checkbox.js" type="text/javascript"></script>
</head>
<body>
  <nav aria-label="Related Links" class="feedback">
    <ul>
      <li><a href="../../#browser_and_AT_support">Browser and Assistive Technology Support</a></li>
      <li><a href="https://github.com/w3c/aria-practices/issues/new">Report Issue</a></li>
      <li><a href="https://github.com/w3c/aria-practices/projects/2">Related Issues</a></li>
      <li><a href="../../#switch">Design Pattern</a></li>
    </ul>
  </nav>
  <main>
    <h1>Switch Example Using HTML Checkbox Input</h1>
    <p>
      This example illustrates implementation of the <a href="../../#switch">Switch design pattern</a> by using HTML <code>input[type="checkbox"]</code> as switch elements and by using CSS borders to provide graphical rendering of switch states.
      It also demonstrates using the HTML <code>fieldset</code> and <code>legend</code> elements to present multiple switches in a labeled group.
    </p>
    <p>Similar examples include: </p>
    <ul>
      <li><a href="switch.html">Switch example using the <code>div</code> element.</a></li>
      <li><a href="switch-button.html">Switch example using the <code>button</code> element.</a>.</li>
    </ul>

    <section>
      <div class="example-header">
        <h2 id="ex_label">Example</h2>
      </div>
      <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
      <div id="ex1">
        <fieldset>
          <legend>Accessibility Preferences</legend>
          <label>
            <span class="label">Reduced motion</span>
            <input id="id-switch-1"
            type="checkbox"
            role="switch"/>
            <span class="state">
              <span class="container">
                <span class="position">
                </span>
              </span>
              <span class="on" aria-hidden="true">On</span>
              <span class="off" aria-hidden="true">Off</span>
            </span>
          </label>
  
          <label>
            <span class="label">Show captions</span>
            <input id="id-switch-2"
            type="checkbox"
            role="switch"/>
            <span class="state">
              <span class="container">
                <span class="position">
                </span>
              </span>
              <span class="on" aria-hidden="true">On</span>
              <span class="off" aria-hidden="true">Off</span>
            </span>
          </label>
        </fieldset>
      </div>
      <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
    </section>

    <section>
      <h2>Accessibility Features</h2>
      <ul>
        <li>To help assistive technology users understand each switch belongs to a set of switches related to <q>Accessibility Preferences</q>, the switches are wrapped in a <code>fieldset</code> element labeled with a <code>legend</code> element.</li>
        <li>
          To provide a visual indication the labels can also be used to change the switch state, when the pointer moves over either the switch or the label, both the switch and label are treated with a border and background color change.
          Note that the border treatment is necessary for the target area to be perceivable when browser or operating system high contrast settings are enabled.
        </li>
        <li>
          A visual text label (<q>on</q> or <q>off</q>) of the state is rendered adjacent to the graphical state indicator to make understanding the state easier for users with visual or cognitive disabilities.<br/>
          NOTE: To avoid redundant state announcement by screen readers, these labels are hidden from assistive technologies with <code>aria-hidden</code>, and CSS attribute selectors ensure the label display is synchronized with the value of the <code>input</code>.
        </li>
        <li>Spacing and borders are used to ensure the graphics will be visible and discernible when browser or operating system high contrast settings are enabled:
          <ul>
            <li>Two pixel borders are used for the switch state container and the circle indicating the on and off position of the switch.</li>
            <li>There are 2 pixels of space between the container border and the border of the circle.</li>
          </ul>
        </li>
      </ul>
    </section>

    <section>
      <h2 id="kbd_label">Keyboard Support</h2>
      <table aria-labelledby="kbd_label" class="def">
        <thead>
          <tr>
            <th>Key</th>
            <th>Function</th>
          </tr>
        </thead>
        <tbody>
        <tr data-test-id="key-tab">
          <th><kbd>Tab</kbd></th>
          <td>
            <ul>
              <li>Moves keyboard focus to the <code>switch</code>.</li>
            </ul>
          </td>
        </tr>
        <tr data-test-id="key-space">
            <th><kbd>Space</kbd></th>
            <td>
              <ul>
                <li>Toggle switch between on and off.</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </section>

    <section>
      <h2 id="rps_label">Role, Property, State, and Tabindex  Attributes</h2>
      <table aria-labelledby="rps_label" class="data attributes">
        <thead>
          <tr>
            <th scope="col">Role</th>
            <th scope="col">Attribute</th>
            <th scope="col">Element</th>
            <th scope="col">Usage</th>
          </tr>
        </thead>
        <tbody>
            <tr data-test-id="switch-role">
              <th scope="row"><code>switch</code></th>
              <td></td>
              <td><code>input[type=&quot;checkbox&quot;]</code></td>
              <td>
                <ul>
                  <li>The <code>role=&quot;switch&quot;</code> attribute identified the <code>input[type=&quot;checkbox&quot;]</code> element as an ARIA <code>switch</code>.</li>
                  <li>The accessible name is defined using the <code>label</code> element.</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="aria-hidden">
              <td></td>
              <th scope="row"><code>aria-hidden="true"</code></th>
              <td><code>span.on</code> and <code>span.off</code></td>
              <td>
                <ul>
                  <li><code>aria-hidden</code> is used to remove visual &quot;on&quot; and &quot;off&quot; labels to the right of the switch from being part of the label for the switch.</li>
                  <li>The visual &quot;on&quot; and &quot;off&quot; text are not needed in the label because the state of the switch is conveyed through the <code>.checked</code> property of the <code>input</code> element.</li>
                </ul>
              </td>
            </tr>
        </tbody>
      </table>
    </section>

    <section>
      <h2>Javascript and CSS Source Code</h2>
      <ul id="css_js_files">
        <li>
          CSS:
          <a href="css/switch-checkbox.css" type="tex/css">switch-checkbox.css</a>
        </li>
        <li>
          Javascript:
          <a href="js/switch-checkbox.js" type="text/javascript">switch-checkbox.js</a>
        </li>
      </ul>
    </section>

    <section>
      <h2 id="sc1_label">HTML Source Code</h2>
      <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
      <pre><code id="sc1"></code></pre>
      <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>
      <!--
        The following script will show the reader the HTML source for the example that is in the div with ID 'ex1'.
        It renders the HTML in the preceding pre element with ID 'sc1'.
        If you change the ID of either the 'ex1' div or the 'sc1' pre, be sure to update the sourceCode.add function parameters.
        -->
      <script>
        sourceCode.add('sc1', 'ex1', 'ex_label', 'css_js_files');
        sourceCode.make();
      </script>
    </section>
  </main>
  <nav>
    <!--  Update the pattern_ID parameter of this link to refer to the APG design pattern section related to this example.  -->
    <a href="../../#switch">Switch Design Pattern in WAI-ARIA Authoring Practices 1.2</a>
  </nav>
</body>
</html>
